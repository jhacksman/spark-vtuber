# Spark VTuber Environment Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# LLM Configuration
# =============================================================================
# Use local path after running download script, or HuggingFace repo name
LLM__MODEL_NAME=./models/qwen3-30b-a3b-awq
# Alternative: QuixiAI/Qwen3-30B-A3B-AWQ (downloads from HuggingFace)
LLM__QUANTIZATION=awq
LLM__MAX_TOKENS=2048
LLM__TEMPERATURE=0.7
LLM__TOP_P=0.9
LLM__CONTEXT_LENGTH=8192
LLM__GPU_MEMORY_UTILIZATION=0.70

# =============================================================================
# TTS Configuration (CosyVoice 3 - TRUE streaming TTS with 150ms latency)
# =============================================================================
# CosyVoice 3: Alibaba's state-of-the-art streaming TTS (May 2025)
# - TRUE bi-streaming: text-in streaming + audio-out streaming
# - 150ms first-chunk latency (vs 300ms for other streaming TTS)
# - 100+ emotion/tone controls via instruct prompts
# - Zero-shot voice cloning with 15-30s reference samples (97% similarity)
# - VRAM requirement: ~2-4GB (0.5B parameters)
# Paper: https://arxiv.org/abs/2505.17589
TTS__ENGINE=cosyvoice3
TTS__SAMPLE_RATE=24000
TTS__STREAMING=true
TTS__DEVICE=cuda
TTS__HALF_PRECISION=true

# CosyVoice 3-specific settings
# TTS__COSYVOICE3_MODEL_DIR=./models/cosyvoice3  # Auto-downloads from HuggingFace if not set
# TTS__COSYVOICE3_REFERENCE_AUDIO=./voices/reference.wav  # 15-30s reference for voice cloning
# TTS__COSYVOICE3_REFERENCE_TEXT=You are a helpful assistant.  # Transcript of reference audio
# TTS__COSYVOICE3_DEFAULT_EMOTION=  # Default emotion: excited, happy, sad, angry, neutral, etc.
# TTS__COSYVOICE3_LOAD_VLLM=false  # Enable vLLM acceleration (requires vLLM 0.11+)
# TTS__COSYVOICE3_LOAD_TRT=false  # Enable TensorRT acceleration

# Emotion tags in text: "(excited) Hello world!" or "(happy) Nice to meet you!"
# Supported emotions: excited, happy, sad, angry, surprised, fearful, disgusted,
#                     neutral, whisper, shout, fast, slow, cute, serious, playful,
#                     sarcastic, loving, nervous, confident, tired

# Alternative: Fish Speech (higher quality but fake streaming, ~12GB VRAM)
# TTS__ENGINE=fish_speech
# TTS__MODEL_NAME=speech-1.5
# TTS__SAMPLE_RATE=44100
# TTS__USE_API=false
# Requires: git clone https://github.com/fishaudio/fish-speech && cd fish-speech && pip install -e ".[cu129]"

# =============================================================================
# STT Configuration (Parakeet TDT 0.6B V2 - ultra-fast, low-latency)
# =============================================================================
STT__ENGINE=parakeet
STT__MODEL_NAME=nvidia/parakeet-tdt-0.6b-v2
STT__DEVICE=cuda
STT__COMPUTE_TYPE=float16
STT__LANGUAGE=en
# Parakeet TDT: 6.05% WER, 3386x RTFx, ~4GB VRAM
# Requires: pip install nemo_toolkit[asr]
# Alternative: Whisper (set STT__ENGINE=whisper, STT__MODEL_SIZE=large-v3)

# =============================================================================
# Memory Configuration
# =============================================================================
MEMORY__CHROMA_PERSIST_DIR=./data/chroma
MEMORY__EMBEDDING_MODEL=all-MiniLM-L6-v2
MEMORY__MAX_MEMORIES=10000
MEMORY__RETRIEVAL_TOP_K=5

# =============================================================================
# Avatar Configuration
# =============================================================================
AVATAR__VTUBE_STUDIO_HOST=localhost
AVATAR__VTUBE_STUDIO_PORT=8001
AVATAR__PLUGIN_NAME=SparkVTuber
AVATAR__LIP_SYNC_ENABLED=true
AVATAR__EXPRESSION_ENABLED=true

# Dual Avatar Configuration (VNet Multiplayer Collab)
# Requires VTube Studio Pro + VNet Multiplayer Collab plugin ($20)
AVATAR__DUAL_AVATAR_ENABLED=false
AVATAR__PRIMARY_AVATAR_PORT=8001
AVATAR__SECONDARY_AVATAR_PORT=8002
AVATAR__PRIMARY_AVATAR_POSITION=left
AVATAR__SECONDARY_AVATAR_POSITION=right

# =============================================================================
# Personality Configuration
# =============================================================================
PERSONALITY__PRIMARY_NAME=Spark
PERSONALITY__PRIMARY_LORA_PATH=
PERSONALITY__SECONDARY_NAME=Shadow
PERSONALITY__SECONDARY_LORA_PATH=
PERSONALITY__SWITCH_COOLDOWN=5.0

# =============================================================================
# Chat Configuration
# =============================================================================
CHAT__TWITCH_ENABLED=false
CHAT__TWITCH_CHANNEL=your_channel
CHAT__TWITCH_OAUTH_TOKEN=oauth:your_token_here
CHAT__YOUTUBE_ENABLED=false
CHAT__YOUTUBE_VIDEO_ID=
CHAT__YOUTUBE_API_KEY=
CHAT__MESSAGE_QUEUE_SIZE=100
CHAT__RATE_LIMIT_PER_MINUTE=20

# =============================================================================
# Game Configuration
# =============================================================================
GAME__MINECRAFT_ENABLED=false
GAME__MINECRAFT_HOST=localhost
GAME__MINECRAFT_PORT=25565
GAME__MINECRAFT_USERNAME=SparkVTuber
GAME__WATCH_MODE_ENABLED=false
GAME__SCREEN_CAPTURE_FPS=2

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=SparkVTuber
DEBUG=false
LOG_LEVEL=INFO
DATA_DIR=./data
